# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class FluxOperatorMcp < Formula
  desc "Flux MCP Server"
  homepage "https://fluxcd.control-plane.io/mcp/"
  version "0.24.1"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/controlplaneio-fluxcd/flux-operator/releases/download/v0.24.1/flux-operator-mcp_0.24.1_darwin_amd64.tar.gz"
      sha256 "ea868d100c8fc28910e6827c2ec56b7316fa569fb425f5a3a8146f97f3b8b484"

      def install
        bin.install "flux-operator-mcp"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/controlplaneio-fluxcd/flux-operator/releases/download/v0.24.1/flux-operator-mcp_0.24.1_darwin_arm64.tar.gz"
      sha256 "557a11164cfc14cd897fa182d0ea2c31135307b10fef76718d2ea6140c5a96e4"

      def install
        bin.install "flux-operator-mcp"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel?
      if Hardware::CPU.is_64_bit?
        url "https://github.com/controlplaneio-fluxcd/flux-operator/releases/download/v0.24.1/flux-operator-mcp_0.24.1_linux_amd64.tar.gz"
        sha256 "53758e45f90cda66985570fbc714b2efa7d5bc37d8dbdb2f901b78f2dc2bb745"

        def install
          bin.install "flux-operator-mcp"
        end
      end
    end
    if Hardware::CPU.arm?
      if Hardware::CPU.is_64_bit?
        url "https://github.com/controlplaneio-fluxcd/flux-operator/releases/download/v0.24.1/flux-operator-mcp_0.24.1_linux_arm64.tar.gz"
        sha256 "f3f9a6cfc3d9236f250e4b45b303a88d84e1e1c1a313194d726f1d452b99c5f2"

        def install
          bin.install "flux-operator-mcp"
        end
      end
    end
  end

  test do
    system "#{bin}/flux-operator-mcp --version"
  end
end
